---
import { Image } from "astro:assets";
import Card from "../ui/Card.astro";
import Section from "./Section.astro";
import samogoncalc from '../../assets/samogoncalc.jpg'
import sesmsk from '../../assets/sesmsk.jpg'
import uslugialpinista from '../../assets/uslugialpinista.jpg'
import cublog from '../../assets/cublog.jpg'
import vypusknye from '../../assets/vipusknie.jpg'
import rossnab73 from '../../assets/rossnab73.jpg'
import sc from '../../assets/samogoncalcPrev.jpg'
import al from '../../assets/uslugialpinistaPrev.jpg'
import cb from '../../assets/cublogPrev.jpg'
import se from '../../assets/sesmskPrev.jpg'
import vp from '../../assets/vipuskniePrev.jpg'
import rs from '../../assets/rossnab73Prev.jpg'

const cases = [
  {
    index: 1,
    title: "SamogonCalc",
    site: 'samogoncalc.ru',
    img: sc,
    iimg: samogoncalc,
  },
  {
    index: 2,
    title: "Услуги альпиниста",
    site: 'uslugialpinista.ru',
    img: al,
    iimg: uslugialpinista,
  },
  {
    index: 4,
    title: "CUBLOG",
    site: 'cublog.ru',
    img: cb,
    iimg: cublog,
  },
  {
    index: 5,
    title: "СЭС МСК",
    site: 'sesmsk.su',
    img: se,
    iimg: sesmsk,
  },
  {
    index: 7,
    title: "Выпускные 2025",
    site: 'speloekids.ru/vypusknye.html',
    img: vp,
    iimg: vypusknye,
  },
  {
    index: 6,
    title: "РОССНАБ73",
    site: 'rossnab73.su',
    img: rs,
    iimg: rossnab73,
  },
];

import larrow from "../../assets/icon3.svg";
import SectionTitle from "../ui/SectionTitle.astro";
---

<Section id="cases">
  <SectionTitle/>
  <div class="bg-white py-6 sm:py-8 lg:py-12 mb-24">
    <div class="mx-auto max-w-screen-2xl px-4 md:px-8">
        <div class="mb-4 flex items-center justify-between gap-8 sm:mb-8 md:mb-12">
            <div class="flex items-center gap-12">
                <h2 class="text-2xl font-bold text-gray-800 lg:text-3xl">Мои недавние работы</h2>

                
            </div>
        </div>

        <div class="grid grid-cols-2 gap-4 sm:grid-cols-3 md:gap-6 xl:gap-8">
            <!-- image - start -->
            {
              cases.map((c) => (
                <button type="button"
                    class={`group relative flex h-48 items-end overflow-hidden rounded-lg bg-gray-100 shadow-lg md:h-80 ${c.index%2===0 ? 'col-span-2' : 'col-span-2 md:col-span-1'}`} aria-haspopup="dialog" aria-expanded="false" aria-controls={`hs-scroll-${c.index}`} data-hs-overlay={`#hs-scroll-${c.index}`}>
                    <Image src={c.img} alt={`img-${c.title}`} class="absolute inset-0 h-full w-full object-cover object-center transition duration-200 group-hover:scale-110" />

                    <div
                        class="pointer-events-none absolute inset-0 bg-gradient-to-t from-gray-800 via-transparent to-transparent opacity-50">
                    </div>

                    <span class="relative ml-4 mb-3 inline-block text-sm text-white md:ml-5 md:text-lg">{c.title}</span>
                </button>

                <div id={`hs-scroll-${c.index}`} class="hs-overlay hidden size-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none" role="dialog" tabindex="-1" aria-labelledby="hs-scroll-inside-body-modal-label">
                  <div class="hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 h-[calc(100%-3.5rem)] sm:mx-auto">
                    <div class="max-h-full overflow-hidden flex flex-col bg-white border shadow-sm rounded-xl pointer-events-auto">
                      <div class="flex justify-between items-center py-3 px-4 ">
                        <a href={`https://${c.site}`} target="_blank" id="hs-scroll-inside-body-modal-label" class="font-bold text-gray-800">
                          {c.site}
                        </a>
                        <button type="button" class="size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100/80 text-gray-800 hover:bg-gray-200/80 focus:outline-none focus:bg-gray-200/80 disabled:opacity-50 disabled:pointer-events-none" aria-label="Close" data-hs-overlay={`#hs-scroll-${c.index}`}>
                          <span class="sr-only">Close</span>
                          <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 6 6 18"></path>
                            <path d="m6 6 12 12"></path>
                          </svg>
                        </button>
                      </div>
                      <div class="p-4 overflow-y-auto">
                        <div class="space-y-4">
                          <Image src={c.iimg} alt="samogoncalc"/>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              ))
            }

        </div>
    </div>
</div>
  
</Section>

 
<script>
  import "@preline/overlay/index.js";
</script>